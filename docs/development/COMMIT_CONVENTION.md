# 提交规范

## 提交信息格式

### 1. 基本格式
```
<type>(<scope>): <subject>

<body>

<footer>
```

### 2. 类型（type）
- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档更新
- `style`: 代码格式（不影响代码运行的变动）
- `refactor`: 重构（既不是新增功能，也不是修改bug的代码变动）
- `perf`: 性能优化
- `test`: 增加测试
- `chore`: 构建过程或辅助工具的变动
- `revert`: 回退

### 3. 范围（scope）
- 可选，表示影响范围
- 例如：`feat(auth)`, `fix(api)`, `docs(readme)`

### 4. 主题（subject）
- 简短描述，不超过50个字符
- 以动词开头，使用第一人称现在时
- 第一个字母小写
- 结尾不加句号

### 5. 正文（body）
- 可选，详细描述
- 每行不超过72个字符
- 说明改动原因和改动前后的行为对比

### 6. 页脚（footer）
- 可选，用于关闭Issue或关联任务
- 例如：`Closes #123`, `Fixes #456`

## 提交模板

### 1. 模板文件
```gitcommit
# <type>(<scope>): <subject>
#
# <body>
#
# <footer>
```

### 2. 模板变量
- `type`: 提交类型
- `scope`: 影响范围
- `subject`: 简短描述
- `body`: 详细描述
- `footer`: 页脚信息

## 提交钩子

### 1. 预提交钩子（pre-commit）
- 运行代码风格检查
- 运行单元测试
- 检查依赖更新

### 2. 提交信息钩子（commit-msg）
- 验证提交信息格式
- 检查提交信息长度
- 验证类型和范围

### 3. 后提交钩子（post-commit）
- 更新版本号
- 生成更新日志
- 发送通知

## 提交检查规则

### 1. 代码风格检查
- 使用ESLint检查JavaScript代码
- 使用Prettier格式化代码
- 检查文件编码和行尾

### 2. 单元测试检查
- 运行所有单元测试
- 检查测试覆盖率
- 验证测试结果

### 3. 依赖检查
- 检查依赖版本
- 验证依赖兼容性
- 检查安全漏洞

### 4. 安全检查
- 检查敏感信息
- 验证代码签名
- 检查权限设置

## 自动化检查

### 1. GitHub Actions工作流
- 提交信息格式检查
- 代码风格检查
- 单元测试运行
- 依赖安全检查

### 2. 本地检查
- Git钩子执行
- 代码格式化
- 测试运行

## 注意事项

1. 提交信息必须清晰表达改动内容
2. 保持提交粒度适中
3. 定期更新提交规范
4. 确保团队成员了解规范
5. 及时处理检查失败的情况 